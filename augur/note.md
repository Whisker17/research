# Augur 调研

## Augur 的工作原理

大致分为四个阶段：**创建市场（Creating）**，**交易（Trading）**，**报告（Reporting）**以及**清算（Settlement）**。

原生代币 REP ，报告人（Reporters）通过质押的方式公布自己对事件的看法，REP 的持有人通过参与市场预测来赚取平台中的部分手续费。

![](https://i.imgur.com/GcyV8IX.png)

### 市场创建

在创建市场的过程中，需要市场创建人进行以下指定：

- 事件结束时间

- 事件指定报告人。

  当然，事件指定报告人并非事件结果的最终决定人，社区依然有权利纠正其报告。

- 消息源（resolution source）

  可以是某种共识，或者是指定的消息源，比如某些网站。

- 创建人费用（creator fee）

  用于结算人支付给市场创建人的费用。

- 有效性债券

  以稳定币 DAI 的方式进行抵押，如果市场最终以有效的结果结算，那将会将这笔费用返还给市场创建人。用于鼓励市场创建人创建高质量市场。有效性债券的数量是根据近期市场无效结果的比例动态设定的。

- 创建人债券

  以 REP 的方式进行抵押，当且仅当市场创建人指定的报告人在市场指定结束时间后的 24 小时内进行报告且报告无误，这笔钱才会返还给市场创建人。如果在 3 天的窗口区内都没有进行报告的话，这笔钱将会奖励给第一个正确报告事件结果的公共报告人。**这样设计的原因为了激励市场创建人选择更优质的市场报告人，以加速市场结算速度。**

  创建人债券和有效性债券一样，是根据在前一个窗口期间未能及时报告的指定报告人的比例和指定报告人报告的错误市场结果比例进行动态调整的。

### 交易

以订单簿的形式进行交易。

- 费用窗口期

  一个连续的 7 天作为一个窗口期，在此期间 Augur 收取的费用都将注入报告费用池。窗口期结束后报告费用池中的费用将会按质押比例分发给参与报告过程的 REP 持有人。参与的形式包括：初始报告时的质押，争议时的质押以及购买参与 token。

  设置参与 token 是为了让用户即使不想参与当前事件的质押时，也可以通过这种方式保证自己的活跃度并获得少量奖励。

- 市场状态

  Augur 在创建市场之后将会有 7 种市场状态存在，包括：

  - 报告前
  - 指定报告中

    一旦超过 24 小时指定报告人没有完成报告，市场将会自动进入公开报告时期。一旦指定报告人在规定时间内完成报告，则创建人债券将会以质押的形式存在，当最终结果不一致时，将会作为给正确报告的报告人的奖励。

  - 公开报告

  在公开报告期中，如果指定报告人没能及时报告，那么任何公开报告人都不需要对结果有质押的情况下才能报告，这样可以更快的进入争议期。

  - 争议期

    争议期可能会存在 7 天（最久的情况下，最短 24 小时就可以结束）。在第一轮争议期中，如果临时结果没有被推翻，那么该结果即为最终结果，争议期就此结束（24 小时）。

    争议期成功的依据为：如果质押在非临时结果的数量超过*争议债券数额（Dispute Bond Size）*，则该争议成功，将进入下一轮争议期。

    其中 A_n 为争议期 n 时所有结果质押总量，w 为该争议期时任意非临时结果，S(w,n) 为争议期 n 开始时结果 w 的质押总量，争议债券数额为 B(w,n)，想要争议成功的话，就要满足下面算式：

    B(w,n)=2A_n - 3S(w,n)

    一次成功的争议后，市场状态可能会有以下三种：

    - 立即进入下一轮争议。如果争议债券的规模小于 REP 总量的 0.02%
    - 等待下一个费用窗口，然后再进行下一轮争议。如果争议债券的规模在 REP 总量的 0.02%-2.5% 之间
    - 进入分叉状态。如果争议债券的规模大于 REP 总量的 2.5%，那么市场将进入分叉状态。

    如果 7 天内所有争议都失败了，那么市场将进入结算期，当前的临时结果即为最终结果。

    所有不成功的争议质押会在每一轮争议期后返还给质押人。成功的质押将会一直存在在结果中。

  - 等待下一个窗口期开放
  - 分叉
  - 结算完成

![](https://i.imgur.com/0jaxRJF.png)

## 自动做市商

解决了以下问题：

- 解决买家/卖家匹配问题。自动做市商保证市场始终可以交易。通过让交易者相信他们可以在任何时候选择下注时获得流动性，自动化做市商创造了额外的参与激励。
- 现有的具有大量结果的人工中介预测市场往往具有非常广泛的买卖差价，尤其是对于更模糊的候选人。自动化做市商缓解了这个问题，在结果数量或多或少的市场中保持一致的行为。
- 每个共享状态都会增加不同参与者观点之间不一致的可能性，并增加了不同市场观点达成一致的时间。自动化做市商可以嵌入和分发，状态最少。这可以与传统的双重拍卖形成对比，其中完整的市场状态包括整个订单簿，操作可以包括参与者撤回或修改其现有订单。
- 市场的发起者承担损失一定金额（他们总是可以增加）的风险，以换取交易费用带来的可变支出。随着发起人承担风险的金额增加，市场变得更深，个人行为导致的价格滑点减少。这一界限的一个有趣结果是，市场可以进入其赞助商无条件获利的状态 ，其中活跃的市场已经收取了足够的交易费用，无论未来的赌注如何，无论实际发生什么结果，市场都可以为其赞助商盈利。
- 自动化做市商可防止常见的交易者错误和信息冗余。
